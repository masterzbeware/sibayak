-- ğŸ•ï¸ TENDA MENGIKUTI PEMAIN + GUI + CANCEL (DELTA EXECUTOR READY)

-- Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RemoteEvent = ReplicatedStorage["uxrPlacementSystem#RS@4.0"].placementEvents.RemoteEvent
local localPlayer = Players.LocalPlayer

-- GUI Setup
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "TendaFollowGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = localPlayer:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 180, 0, 90)
frame.Position = UDim2.new(0, 10, 0, 10)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BackgroundTransparency = 0.2
frame.BorderSizePixel = 0
frame.Parent = screenGui

local textbox = Instance.new("TextBox")
textbox.Size = UDim2.new(1, -10, 0, 40)
textbox.Position = UDim2.new(0, 5, 0, 5)
textbox.PlaceholderText = "Masukkan Nama Pemain"
textbox.Text = ""
textbox.ClearTextOnFocus = false
textbox.TextScaled = true
textbox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
textbox.TextColor3 = Color3.new(1, 1, 1)
textbox.Parent = frame

local cancelButton = Instance.new("TextButton")
cancelButton.Size = UDim2.new(1, -10, 0, 30)
cancelButton.Position = UDim2.new(0, 5, 0, 50)
cancelButton.Text = "âŒ Cancel"
cancelButton.BackgroundColor3 = Color3.fromRGB(80, 20, 20)
cancelButton.TextColor3 = Color3.new(1, 1, 1)
cancelButton.TextScaled = true
cancelButton.Parent = frame

-- Tracking Config
local movementThreshold = 2
local checkInterval = 0.2
local currentTarget = nil
local lastPosition = nil
local trackingActive = false

-- Tenda Functions
local function spawnTenda(pos)
Â RemoteEvent:FireServer(
Â  "uxrPlaceEvent",
Â  "Tenda",
Â  pos.X, pos.Y, pos.Z,
Â  0.1096, 0, 0.9939,
Â  0, 1, 0,
Â  -0.9939, 0, 0.1096
Â )
end

local function deleteTenda()
Â RemoteEvent:FireServer("uxrDeleteEvent", "Tenda")
end

-- Loop untuk tracking pergerakan target
task.spawn(function()
Â while true do
Â  if trackingActive and currentTarget and currentTarget.Character and currentTarget.Character:FindFirstChild("HumanoidRootPart") then
Â  Â local hrp = currentTarget.Character.HumanoidRootPart
Â  Â local currentPos = hrp.Position

Â  Â if lastPosition then
Â  Â  local moved = (currentPos - lastPosition).Magnitude
Â  Â  if moved >= movementThreshold then
Â  Â  Â deleteTenda()
Â  Â  Â task.wait(0.05)
Â  Â  Â spawnTenda(currentPos + Vector3.new(0, 2, 0))
Â  Â  Â lastPosition = currentPos
Â  Â  end
Â  Â else
Â  Â  spawnTenda(currentPos + Vector3.new(0, 2, 0))
Â  Â  lastPosition = currentPos
Â  Â end
Â  end
Â  task.wait(checkInterval)
Â end
end)

-- Saat TextBox diisi
textbox.FocusLost:Connect(function()
Â local name = textbox.Text
Â local found = Players:FindFirstChild(name)
Â if found then
Â  currentTarget = found
Â  lastPosition = nil
Â  trackingActive = true
Â  textbox.Text = "ğŸ¯ " .. name
Â else
Â  currentTarget = nil
Â  trackingActive = false
Â  textbox.Text = "âŒ Tidak Ditemukan"
Â end
end)

-- Saat Cancel ditekan
cancelButton.MouseButton1Click:Connect(function()
Â trackingActive = false
Â currentTarget = nil
Â lastPosition = nil
Â textbox.Text = ""
Â deleteTenda()
end)
